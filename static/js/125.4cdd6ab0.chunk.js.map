{"version":3,"file":"static/js/125.4cdd6ab0.chunk.js","mappings":"wPAmCaA,EAAQ,IAjCfC,WASJ,aAAe,IAAD,4BARdC,IAAM,EAQQ,KANdC,MAAQ,GAMM,KAIdC,SAAW,WACT,EAAKF,OALO,KAQdG,MAAQ,WACN,EAAKH,IAAM,GATC,KAoBdI,QAAU,WACR,EAAKH,MAAQ,EAAKA,MAAMI,OAAO,CAAEC,KAAM,UApBvCC,EAAAA,EAAAA,IAAmBC,MAWrB,OAVC,+BAND,WACE,OAAOA,KAAKP,MAAMQ,SACnB,gCAcD,8EAEiB,OAFjB,kBAEuBC,QAAQC,QAAQ,CAAC,CAAEL,KAAM,QAAU,CAAEA,KAAM,UAFlE,OAEIE,KAAKP,MAFT,sDAIIW,QAAQC,MAAM,oBAAd,MAJJ,4DArBId,I,mBCIS,SAASe,IACtB,OAAuBC,EAAAA,EAAAA,YAAfC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,IACTC,GAAWC,EAAAA,EAAAA,MACXC,GAAaC,EAAAA,EAAAA,KAAmB,kBAAMvB,KAEtCwB,EAAc,WAClBL,KAWF,OARAM,EAAAA,EAAAA,IAAS,WACPH,EAAWI,eAGbC,EAAAA,EAAAA,IAAW,WACTL,EAAWjB,YAIX,SAAC,KAAD,UACG,kBACC,4BACE,sDACA,6CAAqBiB,EAAWpB,OAC/BgB,GACD,mBAAQU,QAASJ,EAAjB,oBACA,mBAAQI,QAASN,EAAWlB,SAA5B,0BACA,mBAAQwB,QAASN,EAAWhB,QAA5B,uBACA,yDAAagB,EAAWO,cACxB,wBACGP,EAAWnB,MAAM2B,KAAI,WAAWC,GAAX,IAAGvB,EAAH,EAAGA,KAAH,OACpB,wBAAkBA,GAATuB,SAIb,mBACEH,QAAS,WACPR,EAAS,WAFb,8B,2FCtCH,SAASH,IAA4B,IAAnBe,EAAkB,uDAAH,EACtC,GAA0BC,EAAAA,EAAAA,UAASD,GAAnC,eAAOd,EAAP,KAAcd,EAAd,KAEMe,GAAMe,EAAAA,EAAAA,cAAY,WACtB9B,GAAS,SAACc,GAAD,OAAWA,EAAQ,OAC3B,IAEGb,GAAQ6B,EAAAA,EAAAA,cAAY,WACxB9B,EAAS4B,KACR,CAACA,IAEJ,MAAO,CAAEd,MAAAA,EAAOC,IAAAA,EAAKd,MAAAA","sources":["stores/page1Store.js","pages/page1/index.jsx","pages/page1/useCount.js"],"sourcesContent":["import { makeAutoObservable } from \"mobx\";\n\nclass Store {\n  num = 1;\n\n  users = [];\n\n  get userCount() {\n    return this.users.length;\n  }\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  setCount = () => {\n    this.num++;\n  };\n\n  reset = () => {\n    this.num = 1;\n  };\n\n  *getUsers() {\n    try {\n      this.users = yield Promise.resolve([{ name: \"John\" }, { name: \"Jane\" }]);\n    } catch (e) {\n      console.error(\"fetch users error\", e);\n    }\n  }\n\n  addUser = () => {\n    this.users = this.users.concat({ name: \"qin\" });\n  };\n}\nexport const store = new Store();\n","import { Observer, useLocalObservable } from 'mobx-react';\nimport { useMount, useUnmount } from 'react-use';\nimport { useCount } from './useCount';\nimport { store } from '../../stores/page1Store';\nimport { useNavigate } from 'react-router';\n\nexport default function Page1() {\n  const { count, add } = useCount();\n  const navigate = useNavigate();\n  const localStore = useLocalObservable(() => store);\n\n  const handleClick = () => {\n    add();\n  };\n\n  useMount(() => {\n    localStore.getUsers();\n  });\n\n  useUnmount(() => {\n    localStore.reset();\n  });\n\n  return (\n    <Observer>\n      {() => (\n        <div>\n          <h2>this is Page1 component!</h2>\n          <p>data from store: {localStore.num}</p>\n          {count}\n          <button onClick={handleClick}>click</button>\n          <button onClick={localStore.setCount}>change name</button>\n          <button onClick={localStore.addUser}>Add user</button>\n          <p>user 总人数：{localStore.userCount}</p>\n          <ul>\n            {localStore.users.map(({ name }, _index) => (\n              <li key={_index}>{name}</li>\n            ))}\n          </ul>\n\n          <button\n            onClick={() => {\n              navigate('/page2');\n            }}\n          >\n            to page2\n          </button>\n        </div>\n      )}\n    </Observer>\n  );\n}\n","import { useCallback, useState } from \"react\";\n\nexport function useCount(initialValue = 0) {\n  const [count, setCount] = useState(initialValue);\n\n  const add = useCallback(() => {\n    setCount((count) => count + 1);\n  }, []);\n\n  const reset = useCallback(() => {\n    setCount(initialValue);\n  }, [initialValue]);\n\n  return { count, add, reset };\n}\n"],"names":["store","Store","num","users","setCount","reset","addUser","concat","name","makeAutoObservable","this","length","Promise","resolve","console","error","Page1","useCount","count","add","navigate","useNavigate","localStore","useLocalObservable","handleClick","useMount","getUsers","useUnmount","onClick","userCount","map","_index","initialValue","useState","useCallback"],"sourceRoot":""}